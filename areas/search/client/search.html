<template name="search">
    {{> nav }}
    {{> searchFilter }}
    {{> searchTypeSelectors }}
    {{> searchResults }}
</template>

<template name="searchFilter">
    <h2>Search Filter</h2>
    <div class="filter form-group btn-group">
        <label for="nameSearchFilter">Name</label>
        <input type="text" class="form-control" id="nameSearchFilter" name="nameSearchFilter" placeholder="Enter name" value="{{name}}">
        <i class="search-clear fa fa-close"></i>
    </div>
    <div class="filter form-group btn-group">
        <label for="searchFilter">Tags</label>
        <input type="text" class="form-control" id="searchFilter" name="searchFilter" placeholder="Enter search terms" value="{{tags}}">
        <i class="search-clear fa fa-close"></i>
    </div>    
</template>

<template name="searchTypeSelectors">
    <div class="filter form-group btn-group">
        <label for="type" data-toggle="buttons">
            <span class="txt">Type</span>
            <label class="btn btn-default {{isUsersActive}}">
                <input class="typeSelector" type="radio" name="type" value="users" checked="{{isUsers}}">
                <span class="txt">Users</span>
            </label>
            <label class="btn btn-default {{isProjectsActive}}">
                <input class="typeSelector" type="radio" name="type" value="projects" checked="{{isProjects}}">
                <span class="txt">Projects</span>
            </label>
            <label class="btn btn-default {{isBothActive}}">
                <input class="typeSelector" type="radio" name="type" value="both" checked="{{isBoth}}">
                <span class="txt">Both</span>
            </label>
        </label>
    </div>
</template>

<template name="searchResults">
    <h3>Search Results</h3>
    {{#each filterResults}}
        {{#if notLoggedInUser this}}
        <div class="filterResult">
            <ul class="resultAttributes">
            {{#with this}}
                <li class="attribute">{{>avatar userId=_id}}</li>
                <li class="attribute">{{name}}</li>
                <li class="attribute">{{tags}}</li>
            {{/with}}
            </ul>
            {{#if isUser this}}
            <a class="btn btn-default messageButton" href="{{pathFor 'inbox'}}" id="messageContact" value="{{this._id}}">Message</a>
            {{/if}}
            {{#if ../multipleSelection}}
            <input type="checkbox" value="{{_id}}" class="selectedUserCheckbox">
            {{/if}}
        </div>
        {{/if}}
    {{/each}}
</template>

<template name="inviteUsersButtons">
    <button id="inviteUsersToProject" >
        <i class="fa fa-user-plus"></i>
        <span class="txt">Invite Selected Users</span>
    </button>
</template>