<template name="projects">
    {{> nav}}
    <br>
    <br>
    <h1>Current Projects</h1>
    <ul>
        {{#each projects}}
            {{> project }}
        {{/each}}
    </ul>
    {{> projectForm}}
</template>

<template name="project">
    <div id="{{id}}">
        <h2>Name:{{name}}</h2>
        <p>Description:{{description}}</p>
        <p>Last Updated:{{lastUpdated}}</p>
        <ul class="project-user-list">
            <p>Members:
            {{#each this.users}}
                {{username this}}
            {{/each}}
            </p>
        </ul>
        <button class="btn btn-warning edit"  value="{{this._id}}">
            <i class="fa fa-edit"></i>
            <span class="txt">Edit Project</span>
        </button>
        <button class="btn btn-danger remove" value="{{this._id}}">
            <i class="fa fa-remove"></i>
            <span class="txt">Remove Me</span>
        </button>
        <button class="btn btn-info addUsers" value="{{this._id}}">
            <i class="fa fa-user"></i>
            <span class="txt">Add Users</span>
        </button>
    </div>
</template>

<template name="projectForm">
    {{#if edit}}
    <form class="projectSubmitForm" role="form">
        <div class="form-group">
            <label for="projectName">Project Name:</label>
            <input id="projectName" class="form-control"
                type="text" placeholder="Name" value="{{projectName}}"/>
        </div>
        <div class="form-group">
            <label for="projectDescription">Project Description:</label>
            <textarea id="projectDescription" class="form-control"
                placeholder="Description">{{projectDescription}}</textarea>
        </div>
        <hr />
        <div class="button-group form-group pull-right inline">
            <button id="goBack" type="button" class="btn btn-default">
                <i class="fa fa-back"></i>
                <span class="txt">Back</span>
            </button>
            <button id="submitProject" type="submit" class="btn btn-primary">
                <i class="fa fa-save"></i>
                <span class="txt">Save Project</span>
            </button>
        </div>
    </form>
    {{else}}
        <button class="btn btn-success pull-right" id="addNew">
            <i class="fa fa-plus"></i>
            <span class="txt">Add New</span>
            <!-- TODO: Popup form to create new -->
        </button>
        {{#each projects}}
            {{>project}}
            <br>
            <br>
        {{/each}}
    {{/if}}
</template>